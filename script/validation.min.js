function initMap(){var e={center:{lat:-39.418356,lng:175.401209},zoom:7,disableDefaultUI:!0,disableDoubleClickZoom:!0,keyboardShortcuts:!1,fullscreenControl:!1,backgroundColor:"lightgrey",draggable:!1,scrollwheel:!1,styles:[{stylers:[{hue:"#5dd06f"},{saturation:10}]},{featureType:"road",elementType:"geometry",stylers:[{hue:"#ffcd57"},{lightness:-20},{visibility:"none"}]},{featuretype:"transit",elementType:"labels",stylers:[{hue:"#1c050e"},{saturation:-10}]},{featureType:"water",stylers:[{color:"#1d8fd0"},{lightness:50}]},{featureType:"poi",stylers:[{visibility:"off"}]}]};waypointAutocomplete(),map=new google.maps.Map(document.getElementById("map"),e)}function waypointAutocomplete(){$(".waypoint").each(function(){if(!$(this).hasClass("waypointInit")){$(this).addClass("waypointInit"),$(this).keyup(function(){$(".selectDest").css("display","none"),$(".finalised").css("display","none"),$("#checkEnd").css("display","inline-block"),$("#submitEnd").css("display","none"),$(".cartList").css("display","none")});var e=new google.maps.LatLngBounds(new google.maps.LatLng(-41.81226714,171.77124023),new google.maps.LatLng(-34.1072564,179.65942383)),o={bounds:e};newAutocomplete=new google.maps.places.Autocomplete(this,o),newAutocomplete.addListener("place_changed",function(){for(var e,o=0;o<allMarkers.length;o++){var s=document.getElementById("origin").value;if(s===allMarkers[o].title){var t=allMarkers[o].lng,i=allMarkers[o].lat;e={lat:i,lng:t}}}showDirection("map","DRIVING",e)}),autocomplete.push(newAutocomplete),$(this).parent().attr("data-autocomplete",autocomplete.length-1)}})}function unlockMap(){mapOptions={scrollwheel:!0,draggable:!0,draggableCursor:"pointer",disableDefaultUI:!0,disableDoubleClickZoom:!1,fullscreenControl:!1,backgroundColor:"lightgrey",keyboardShortcuts:!1},findUser(),addAllMarkers(),map.setOptions(mapOptions)}function addAllMarkers(){for(var e=0;e<allMarkers.length;e++)marker=new google.maps.Marker({position:{lat:allMarkers[e].lat,lng:allMarkers[e].lng},map:map,animation:google.maps.Animation.DROP,icon:"images/marker-grey.png",title:allMarkers[e].title,description:allMarkers[e].description}),onScreenMarkers.push(marker),allInfoBox(marker)}function allInfoBox(e){infoBox&&infoBox.close(),infoBox=new google.maps.InfoWindow,google.maps.event.addListener(e,"click",function(){infoBox.setContent("<div class='title'><strong>"+e.title+"</strong></div><div class='description'>"+e.description+"</div>"),infoBox.open(map,e),currentMarker=e,userLocation&&showDirection(currentMarker.position,transportMode,userLocation.position)})}function findUser(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){userLocation=new google.maps.Marker({position:{lat:e.coords.latitude,lng:e.coords.longitude},map:map,animation:google.maps.Animation.DROP}),map.panTo(userLocation.position),findClosestPickup(),showDirection(closestPickup.position,transportMode,userLocation.position)})}function findClosestPickup(){for(var e=1/0,o=0;o<onScreenMarkers.length;o++){var s=onScreenMarkers[o],t=google.maps.geometry.spherical.computeDistanceBetween(userLocation.position,s.position);e>t&&(e=t,closestPickup=s,currentMarker=closestPickup)}}function findClosestDropoff(){for(var e,o=1/0,s=0;s<autocomplete.length;s++)$('[data-autocomplete="'+s+'"').is("*")&&(e=autocomplete[s].getPlace().geometry.location);for(var t=0;t<onScreenMarkers.length;t++){var i=onScreenMarkers[t],r=google.maps.geometry.spherical.computeDistanceBetween(e,i.position);o>r&&(o=r,closestDropoff=i,currentMarker=closestDropoff)}}function changeTransport(e){return method=e.toUpperCase(),void 0!==positionSelect?void showDirection(positionSelect.position,method,userLocation.position):void(void 0!==userLocation&&showDirection(closestPickup.position,method,userLocation.position))}function changeSelect(){void 0===method&&(method=transportMode);var e=document.getElementById("pickupOptions");$("#pick").css("display","inline-block");var o=e.options[e.selectedIndex].text;document.getElementById("origin").value=o,$(".findPickup div p").html(o);for(var s=0;s<allMarkers.length;s++)allMarkers[s].title===o&&(positionSelect=new google.maps.Marker({position:{lat:allMarkers[s].lat,lng:allMarkers[s].lng}}),titleSelect=allMarkers[s].title,map.panTo(positionSelect.position),showDirection(positionSelect.position,method,userLocation.position))}function showDirection(e,o,s){var t=[];$(".findPickup div p").html(""),directionsDisplay&&directionsDisplay.setMap(null);var i=new google.maps.DirectionsService;if(directionsDisplay=new google.maps.DirectionsRenderer,directionsDisplay.setMap(map),"map"===e){e=autocomplete[autocomplete.length-1].getPlace().geometry.location;for(var r=0;r<autocomplete.length;r++)$('[data-autocomplete="'+r+'"]').is("*")&&r<autocomplete.length-1&&t.push({location:autocomplete[r].getPlace().geometry.location,stopover:!0})}if("end"===e){e=closestDropoff.position;for(var a=0;a<autocomplete.length;a++)$('[data-autocomplete="'+a+'"]').is("*")&&t.push({location:autocomplete[a].getPlace().geometry.location,stopover:!0})}i.route({origin:s,destination:e,waypoints:t,travelMode:google.maps.TravelMode[o]},function(e,o){if("OK"===o){directionsDisplay.setDirections(e),distanceJourney=0;for(var s=0;s<e.routes[0].legs.length;s++)distanceJourney+=e.routes[0].legs[s].distance.value;distanceJourney/=1e3,numberInCart(distanceJourney)}else"NOT_FOUND"===o?alert("Sorry, there was an error finding your location."):"ZERO_RESULTS"===o?alert("Sorry, no results were found."):"MAX_WAYPOINTS_EXCEEDED"===o?alert("Error: Too many way points."):"INVALID_REQUEST"===o?alert("Error: Invalid direction request."):"OVER_QUERY_LIMIT"===o?alert("Error: Webpage has sent too many requests."):"REQUEST_DENIED"===o?alert("Error: Webpage not allowed to use the directions service."):"UNKNOWN_ERROR"===o&&alert("Error: Directions request could not be processed due to a server error.");void 0===positionSelect?$(".findPickup div p").html(closestPickup.title):$(".findPickup div p").html(titleSelect),$("#pick").css("display","inline-block")})}function numberInCart(e){e=Math.ceil(e);var o=parseInt($(".motorHome")[0].innerText),s=parseInt($(".motorbike")[0].innerText),t=parseInt($(".lCar")[0].innerText),i=parseInt($(".sCar")[0].innerText);o>0?($(".finalCart .priceHome").html("<div>"+o+"x motor home at $200 per day, 17/L</div>"),priceOfMotorHome=200*o,priceFuelOfMotorHome=calculation(e,17)):($(".finalCart .priceHome").html(""),priceOfMotorHome=0,priceFuelOfMotorHome=0),t>0?($(".finalCart .priceLCar").html("<div>"+t+"x large car at $144 per day, 9.7/L</div>"),priceOflCar=144*t,priceFuelOflCar=calculation(e,9.7)):($(".finalCart .priceLCar").html(""),priceOflCar=0,priceFuelOflCar=0),s>0?($(".finalCart .priceBike").html("<div>"+s+"x motorbike at $109 per day, 3.7/L</div>"),priceOfMotorbike=109*s,priceFuelOfMotorbike=calculation(e,3.7)):($(".finalCart .priceBike").html(""),priceOfMotorbike=0,priceFuelOfMotorbike=0),i>0?($(".finalCart .priceSCar").html("<div>"+i+"x small car at $129 per day, 8.5/L</div>"),priceOfsCar=109*i,priceFuelOfsCar=calculation(e,8.5)):($(".finalCart .priceSCar").html(""),priceOfsCar=0,priceFuelOfsCar=0);var r=parseInt($(".dateDiff")[0].innerText);priceOfFuel=priceFuelOfsCar+priceFuelOfMotorbike+priceFuelOflCar+priceFuelOfMotorHome,priceOfVehicles=(priceOfsCar+priceOfMotorbike+priceOflCar+priceOfMotorHome)*r;var a=priceOfFuel+priceOfVehicles;$("#days").html("<div>Days: "+r+"</div>"),$("#km").html("<div>KM: "+e+"</div>"),$("#fuel").html("<div>Price of fuel: $"+priceOfFuel.toFixed(2)+"</div>"),$("#vehicles").html("<div>Price of vehicles: $"+priceOfVehicles+"</div>"),$("#total").html("<div>Total sum: $"+a.toFixed(2)+"</div>")}function calculation(e,o){var s;return s=e/100*o*1.859}function infoValidated(){unlockMap(),$("#validationBox").css("display","none"),$("#stageTwo").css("display","inline-block")}function goBack1(){$("#validationBox").css("display","inline-block"),$("#stageTwo").css("display","none")}function pickThisLocation(){""===document.getElementById("origin").value&&(document.getElementById("origin").value=closestPickup.title),userLocation.setMap(null),$("#stageThree").css("display","inline-block"),$("#stageTwo").css("display","none"),$("#checkEnd").css("display","inline-block"),$("#submitEnd").css("display","none"),$(".cartList").css("display","none"),$(".finalised").css("display","none")}function goBack2(){$("#stageThree").css("display","none"),$("#stageTwo").css("display","inline-block")}function showSubmitButton(){if(autocomplete[autocomplete.length-1].getPlace()){$("#checkEnd").css("display","none"),$("#submitEnd").css("display","inline-block"),$(".cartList").css("display","block"),findClosestDropoff();for(var e,o=0;o<allMarkers.length;o++){var s=document.getElementById("origin").value;if(s===allMarkers[o].title){var t=allMarkers[o].lng,i=allMarkers[o].lat;e={lat:i,lng:t}}}showDirection("end","DRIVING",e)}else $(".selectDest").css("display","inline-block")}function final(){$(".finalised").css("display","inline-block")}var validMotorhome=!0,validLargeCar=!0,validSmallCar=!0,validMotorbike=!0,correctDates=!1,correctAmount=!1,correctDrivers=!1,amountOfPeople=0,amountOfDrivers=0,people,drivers,amountOfBikes=0,amountOfsCars=0,amountOflCars=0,amountOfMotorhomes=0,valid=!1,driversPeople,amountPeople,seatCount,driveCount,diffDays,dayOfWeek,autocomplete=[],distanceJourney=0;$(document).ready(function(){function e(){$("#motorbike").css("opacity","1"),$("#motorbike").css("cursor","pointer"),$("#small-car").css("opacity","1"),$("#small-car").css("cursor","pointer"),$("#large-car").css("opacity","1"),$("#large-car").css("cursor","pointer"),$("#motorhome").css("opacity","1"),$("#motorhome").css("cursor","pointer")}function o(){$("#motorbike").css("opacity","0.5"),$("#motorbike").css("cursor","default"),validMotorbike=!1}function s(){$("#motorbike").css("opacity","1"),$("#motorbike").css("cursor","pointer"),validMotorbike=!0}function t(){$("#small-car").css("opacity","0.5"),$("#small-car").css("cursor","default"),validSmallCar=!1}function i(){$("#small-car").css("opacity","1"),$("#small-car").css("cursor","pointer"),validSmallCar=!0}function r(){$("#large-car").css("opacity","0.5"),$("#large-car").css("cursor","default"),validLargeCar=!1}function a(){$("#large-car").css("opacity","1"),$("#large-car").css("cursor","pointer"),validLargeCar=!0}function n(){$("#motorhome").css("opacity","0.5"),$("#motorhome").css("cursor","default"),validMotorhome=!1}function l(){$("#motorhome").css("opacity","1"),$("#motorhome").css("cursor","pointer"),validMotorhome=!0}function c(e,o){var s=Math.round(Math.abs(+e-+o)/864e5)+1;if(s===parseInt(s,10))return $(".dateDiff").css("background-color","white"),1===s?$(".dateDiff").html("<div>"+s+" day</div>"):$(".dateDiff").html("<div>"+s+" days</div>"),s}function p(e,o){people=0,drivers=0,$(".svg").css("cursor","pointer");for(var s=0;o>s;s++)6===s&&($(".figuresDrivers").prepend('<img src="images/svg/figure.svg" alt="figure" class="figure" id="d'+s+'"></br>'),$(".figuresDrivers").css("top","-12px")),6!==s&&($(".figuresDrivers").prepend('<img src="images/svg/figure.svg" alt="figure" class="figure" id="d'+s+'">'),6>=drivers&&$(".figuresDrivers").css("top","-13px")),drivers+=1;for(var t=0;e>t;t++)6===t&&($(".figuresAmount").prepend('<img src="images/svg/figure.svg" alt="figure" class="figure" id="a'+t+'"></br>'),"-12px"===$(".figuresDrivers").css("top")?$(".figuresAmount").css("top","-13px"):$(".figuresAmount").css("top","-27px")),6!==t&&($(".figuresAmount").prepend('<img src="images/svg/figure.svg" alt="figure" class="figure" id="a'+t+'">'),"-12px"===$(".figuresDrivers").css("top")?$(".figuresAmount").css("top","-13px"):$(".figuresAmount").css("top","-27px")),people+=1}function d(e,o){var s=driveCount,t=seatCount,i=s+e,r=t+o,a=Number($("#amount").val()),n=Number($("#drivers").val());if(0>e){if(n>i)for(var l=s-1;l>=i;l--)$("#d"+l).removeClass("opacity")}else if(n>s)for(var c=s;i>c;c++)$("#d"+c).addClass("opacity");if(0>o){if(a>r)for(var p=t-1;p>=r;p--)$("#a"+p).removeClass("opacity")}else if(a>t)for(var d=t;r>d;d++)$("#a"+d).addClass("opacity");seatCount+=o,driveCount+=e,g(i,r),k()}function u(e,t){5>=diffDays?e>1?s():1===e&&1>=t?s():o():o()}function m(e,o){diffDays>=2&&10>=diffDays?e>1?i():1===e&&2>=o?i():t():t()}function f(e,o){diffDays>=3&&10>=diffDays?e>1?a():1===e&&5>=o?a():r():r()}function v(e,o){diffDays>=2&&15>=diffDays?e>=2?l():2===e&&6>=o?l():n():n()}function g(e,o){var s=Number($("#amount").val()),t=Number($("#drivers").val()),i=s-o,r=t-e;u(r,i),m(r,i),f(r,i),v(r,i)}function y(){$(".success").css("display","none"),$(".cartHide").css("display","inline-block")}function k(){var e=$(".figuresAmount img.opacity"),o=$(".figuresAmount img");e.length===o.length?$("#submit").css("display","inline-block"):$("#submit").css("display","none")}function h(){$(".errors").css("display","none"),$(".figuresAmount img").remove(),$(".figuresDrivers img").remove(),$(".cart .motorbike").html(""),$(".cart .motorHome").html(""),$(".cart .sCar").html(""),$(".cart .lCar").html(""),$(".cartHide").css("display","none"),$(".success").css("display","none"),$("#submit").css("display","none"),$(".svg").css("cursor","default"),$("#check").css("display","inline-block"),$(".cart > div").css("color","black"),valid=!1,amountOfBikes=0,amountOfsCars=0,amountOflCars=0,amountOfMotorhomes=0}$(function(){$("#dateEnd, #dateStart").datepicker()}),driversPeople=parseInt($("#drivers").val()),amountPeople=parseInt($("#amount").val()),$(".infoToolTip").tooltipster({theme:"tooltipster-shadow"}),$("#check").click(function(){$(".errors").css("display","none"),e(),$(".figuresAmount img").remove(),$(".figuresDrivers img").remove();var s=new Date($("#dateStart").val()),i=new Date($("#dateEnd").val()),a=new Date,l=$("#amount").val(),d=$("#drivers").val();if(validMotorhome=!0,validLargeCar=!0,validSmallCar=!0,validMotorbike=!0,dayOfWeek=s.getDay(),seatCount=0,driveCount=0,diffDays=c(s,i),"Invalid Date"==s&&($(".datesNull").css("display","block"),correctDates=!1),"Invalid Date"==i)$(".datesNull").css("display","block"),correctDates=!1;else{if($(".datesNull").css("display","none"),s.getMonth()===a.getMonth()&&a.getDate()>=s.getDate()?($(".tooEarly").css("display","block"),$(".insufficient").css("display","none"),correctDates=!1):s.getMonth()!==a.getMonth()&&a>=s?($(".tooEarly").css("display","block"),$(".insufficient").css("display","none"),correctDates=!1):($(".tooEarly").css("display","none"),s>i?($(".insufficient").css("display","block"),correctDates=!1):($(".insufficient").css("display","none"),diffDays>15?$(".maxAll").css("display","block"):($(".maxAll").css("display","none"),correctDates=!0))),diffDays>5&&o(),3>diffDays&&r(),(2>diffDays||diffDays>15)&&n(),diffDays>10&&(r(),t()),""===l||""===d)return $(".success").css("display","none"),$(".infoNull").css("display","inline-block"),void $("#check").css("display","inline-block");correctAmount===!0&&correctDates===!0&&correctDrivers===!0&&(valid=!0,$(".success").css("display","inline-block"),p(amountPeople,driversPeople),$("#check").css("display","none"),(1===driversPeople||2>=driversPeople&&amountPeople>=7)&&n(),1===driversPeople&&2===amountPeople&&(o(),n()),1===driversPeople&&amountPeople>=3&&(o(),t(),n()),1===driversPeople&&amountPeople>5&&(o(),t(),r(),n(),$(".success").css("display","none")),2===driversPeople&&amountPeople>6&&o(),3===driversPeople&&12===amountPeople&&o())}}),$(".startDate").click(function(){h()}),$(".endDate").click(function(){h()}),$("#motorbike").click(function(){diffDays>5?($(".errors").css("display","none"),$(".motorbikeError").css("display","inline-block"),$(".success").css("display","none"),validMotorbike=!1):5>=diffDays&&validMotorbike===!1&&($(".errors").css("display","none"),$(".noBikes").css("display","inline-block"),$(".success").css("display","none")),valid===!0&&validMotorbike===!0&&($(".errors").css("display","none"),y(),amountOfBikes+=1,$(".xsBike").css("display","inline-block"),1===amountOfBikes?($(".cart .motorbike").html('<img src="images/svg/x.svg" class="x" id="mbx"><div class="amountInCart">'+amountOfBikes+"x motorbike</div>"),$("#mbx").click(function(){amountOfBikes--,0===amountOfBikes?$(".cart .motorbike").html(""):1===amountOfBikes?$(".cart .motorbike .amountInCart").html(amountOfBikes+"x motorbike"):$(".cart .motorbike .amountInCart").html(amountOfBikes+"x motorbikes"),d(-1,-1)})):$(".cart .motorbike .amountInCart").html(amountOfBikes+"x motorbikes"),d(1,1))}),$("#small-car").click(function(){diffDays>10?($(".errors").css("display","none"),$(".carLate").css("display","inline-block"),$(".success").css("display","none"),validSmallCar=!1):10>=diffDays&&validSmallCar===!1&&($(".errors").css("display","none"),$(".nosCar").css("display","inline-block"),$(".success").css("display","none")),valid===!0&&validSmallCar===!0&&($(".errors").css("display","none"),y(),amountOfsCars+=1,$(".xsCar").css("display","inline-block"),1===amountOfsCars?($(".cart .sCar").html('<img src="images/svg/x.svg" class="x" id="scx"><div class="amountInCart">'+amountOfsCars+"x small car</div>"),$("#scx").click(function(){amountOfsCars--,0===amountOfsCars?$(".cart .sCar").html(""):1===amountOfsCars?$(".cart .sCar .amountInCart").html(amountOfsCars+"x small car"):$(".cart .sCar .amountInCart").html(amountOfsCars+"x small cars"),d(-1,-2)})):$(".cart .sCar .amountInCart").html(amountOfsCars+"x small cars"),d(1,2))}),$("#large-car").click(function(){diffDays>10&&($(".errors").css("display","none"),$(".carLate").css("display","inline-block"),$(".success").css("display","none"),validLargeCar=!1),3>diffDays?($(".errors").css("display","none"),$(".carEarly").css("display","inline-block"),$(".success").css("display","none"),validLargeCar=!1):10>=diffDays&&diffDays>=3&&validLargeCar===!1&&($(".errors").css("display","none"),$(".nolCar").css("display","inline-block"),$(".success").css("display","none")),valid===!0&&validLargeCar===!0&&($(".errors").css("display","none"),y(),amountOflCars+=1,$(".xlCar").css("display","inline-block"),1===amountOflCars?($(".cart .lCar").html('<img src="images/svg/x.svg" class="x" id="lcx"><div class="amountInCart">'+amountOflCars+"x large car</div>"),$("#lcx").click(function(){amountOflCars--,0===amountOflCars?$(".cart .lCar").html(""):1===amountOflCars?$(".cart .lCar .amountInCart").html(amountOflCars+"x large car"):$(".cart .lCar .amountInCart").html(amountOflCars+"x large cars"),d(-1,-5)})):$(".cart .lCar .amountInCart").html(amountOflCars+"x large cars"),d(1,5))}),$("#motorhome").click(function(){diffDays>15&&($(".errors").css("display","none"),$(".maxAll").css("display","inline-block"),$(".success").css("display","none"),validMotorhome=!1),2>diffDays?($(".errors").css("display","none"),$(".motorHomeEarly").css("display","inline-block"),$(".success").css("display","none"),validMotorhome=!1):15>=diffDays&&diffDays>=2&&validMotorhome===!1&&($(".errors").css("display","none"),$(".noMotorhome").css("display","inline-block"),$(".success").css("display","none")),valid===!0&&validMotorhome===!0&&($(".errors").css("display","none"),y(),amountOfMotorhomes+=1,$(".xMotorHome").css("display","inline-block"),1===amountOfMotorhomes?($(".cart .motorHome").html('<img src="images/svg/x.svg" class="x" id="mhx"><div class="amountInCart">'+amountOfMotorhomes+"x motor home</div>"),$("#mhx").click(function(){amountOfMotorhomes--,0===amountOfMotorhomes?$(".cart .motorHome").html(""):1===amountOfMotorhomes?$(".cart .motorHome .amountInCart").html(amountOfMotorhomes+"x motor home"):$(".cart .motorHome .amountInCart").html(amountOfMotorhomes+"x motor homes"),d(-2,-6)})):$(".cart .motorHome .amountInCart").html(amountOfMotorhomes+"x motor homes"),d(2,6))});var D=$("#infoDrivers"),C=$("#infoAmount");$("#amount").keyup(function(){driversPeople=parseInt($("#drivers").val()),amountPeople=parseInt($("#amount").val()),h(),1>amountPeople?($(".nanAmount").css("display","inline-block"),$(".tooMany").css("display","none"),$(".exceedA").css("display","none"),$(".notYet").css("display","none"),correctAmount=!1,$("#check").css("display","none")):($(".nanAmount").css("display","none"),amountPeople>12?($(".tooMany").css("display","inline-block"),$(".exceedA").css("display","none"),correctAmount=!1,$("#check").css("display","none")):($(".tooMany").css("display","none"),correctAmount=!1,driversPeople>amountPeople?($(".exceedA").css("display","inline-block"),correctAmount=!1,$("#check").css("display","none")):($(".exceedA").css("display","none"),"inline-block"===$(".exceedD").css("display")&&($(".exceedD").css("display","none"),amountOfDrivers=$("#drivers").val().replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/(?:\r\n|\r|\n)/g),1===driversPeople?(D.html(parseInt(amountOfDrivers)+" driver"),correctDrivers=!0):(D.html(parseInt(amountOfDrivers)+" drivers"),correctDrivers=!0))),amountOfPeople=$("#amount").val().replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/(?:\r\n|\r|\n)/g),amountPeople===parseInt(amountPeople,10)?1===amountPeople?(C.html(parseInt(amountOfPeople)+" person"),correctAmount=!0):(C.html(parseInt(amountOfPeople)+" people"),correctAmount=!0):C.html("")))}),$("#drivers").keyup(function(){driversPeople=parseInt($("#drivers").val()),amountPeople=parseInt($("#amount").val()),h(),1>driversPeople?($(".nanDrivers").css("display","inline-block"),$(".exceedD").css("display","none"),correctDrivers=!1,$("#check").css("display","none")):($(".nanDrivers").css("display","none"),driversPeople>amountPeople?($(".exceedD").css("display","inline-block"),$(".nanDrivers").css("display","none"),correctDrivers=!1,$("#check").css("display","none")):($(".exceedA").css("display","none"),$(".exceedD").css("display","none"),$(".nanDrivers").css("display","none"),amountOfDrivers=$("#drivers").val().replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/(?:\r\n|\r|\n)/g),driversPeople===parseInt(driversPeople,10)?1===driversPeople?(D.html(parseInt(amountOfDrivers)+" driver"),correctDrivers=!0):(D.html(parseInt(amountOfDrivers)+" drivers"),correctDrivers=!0):D.html("")))}),$(".addPath").click(function(){for(var e=!0,o=0;o<autocomplete.length;o++)!autocomplete[o].getPlace()&&$('[data-autocomplete="'+o+'"]').is("*")&&(e=!1);e&&($("#inputOD").append('<div><input type="text" name="destination" value="" placeholder="Destination" class="chooseOD waypoint"><img src="images/svg/error.svg" class="svgEnd deletePath" alt="cross"></div>'),$(".deletePath:last").click(function(){$(this).parent().remove(),$("#checkEnd").css("display","inline-block"),$("#submitEnd").css("display","none"),$(".cartList").css("display","none"),$(".finalised").css("display","none"),findClosestDropoff()}),$(".waypoint:last").keypress(function(e){13==e.which&&e.preventDefault()}),waypointAutocomplete())}),$(".deletePath:last").click(function(){$(this).parent().remove(),findClosestDropoff()}),"date"!=$('[type="date"]').prop("type")&&$('[type="date"]').datepicker()});var onScreenMarkers=[],currentMarker,closestPickup,map,infoBox,userLocation,directionsDisplay,transportMode="DRIVING",positionSelect,titleSelect,method,allMarkers=[{lat:-37.000944,lng:174.778953,title:"Auckland Airport",description:"Drop off/Pick up point"},{lat:-36.850543,lng:174.75684,title:"Auckland Central",description:"Drop off/Pick up point"},{lat:-37.782849,lng:175.279382,title:"Hamilton Central",description:"Drop off/Pick up point"},{lat:-38.687062,lng:176.072684,title:"Taupo Central",description:"Drop off/Pick up point"},{lat:-38.660705,lng:177.985965,title:"Gisborne Airport",description:"Drop off/Pick up point"},{lat:-37.687037,lng:176.168565,title:"Tauranga Central",description:"Drop off/Pick up point"},{lat:-39.057202,lng:174.075248,title:"New Plymouth Central",description:"Drop off/Pick up point"},{lat:-39.643037,lng:176.846673,title:"Hastings Central",description:"Drop off/Pick up point"},{lat:-40.328291,lng:175.619742,title:"Palmerston North Airport",description:"Drop off/Pick up point"},{lat:-40.357318,lng:175.608031,title:"Palmerston North Central",description:"Drop off/Pick up point"},{lat:-40.950588,lng:175.659595,title:"Masterton Central",description:"Drop off/Pick up point"},{lat:-41.323455,lng:174.804896,title:"Wellington Airport",description:"Drop off/Pick up point"},{lat:-41.292392,lng:174.773879,title:"Wellington Central",description:"Drop off/Pick up point"},{lat:-39.418356,lng:175.401209,title:"Ohakune Central",description:"Drop off/Pick up point"},{lat:-35.724126,lng:174.323261,title:"Whangarei Central",description:"Drop off/Pick up point"}];google.maps.event.addDomListener(window,"load",initMap());var priceOflCar=0,priceOfsCar=0,priceOfMotorbike=0,priceOfMotorHome=0,priceOfVehicles=0,priceFuelOflCar=0,priceFuelOfsCar=0,priceFuelOfMotorbike=0,priceFuelOfMotorHome=0,priceOfFuel=0;$("#inputOD #origin").keyup(function(){$("#checkEnd").css("display","inline-block"),$("#submitEnd").css("display","none"),$(".cartList").css("display","none")}),$(".waypoint").keypress(function(e){13==e.which&&e.preventDefault()});